webpackJsonp([1],{"+B2u":function(e,t){},"5HSI":function(e,t){},"5ucS":function(e,t){},"8tpb":function(e,t){e.exports={multilanguage:{titulo:{en:"title",es:"titulo"},destino:{en:"Destination",es:"Destino"},checkin:{en:"Checkin",es:"Entrada"},checkout:{en:"Checkout",es:"Salida"},ocupacion:{en:"Occupancy",es:"Ocupación"},buscar:{en:"Search",es:"Buscar"},hotelfound:{en:"Hotel/s found",es:"Hotel/es encontrado/s"},hotel:{en:"Hotel",es:"Hotel"},elegirdest:{en:"Choose destination",es:"Elegir destino"},buscardest:{en:"Search destination",es:"Buscar destino"},searchtext:{en:"Search...",es:"Buscar..."},agree:{en:"Agree",es:"Aceptar"},habitaciones:{en:"Rooms",es:"Habitaciones"},pax:{en:"Pax",es:"Pax"},edadesnino:{en:"Children ages",es:"Edades niños"},cambioocupacion:{en:"Change occupation",es:"Cambiar ocupación"},obteniendoresultados:{en:"Getting resources",es:"Obteniendo resultados"},checkandfill:{en:"Check details and fill",es:"Revise los detalles y rellene"},detalles:{en:"Details",es:"Detalles"},totales:{en:"Totals",es:"Totales"},total:{en:"Total",es:"Total"},neto:{en:"Net",es:"Neto"},venta:{en:"Retail",es:"Venta"},comision:{en:"Commision",es:"Comisión"},tipo:{en:"Type",es:"Tipo"},suplementodispo:{en:"Available supplements",es:"Suplementos disponibles"},descripcion:{en:"Description",es:"Descripción"},coste:{en:"Cost",es:"Coste"},seleccionado:{en:"Selected",es:"Seleccionado"},lineapago:{en:"Payment lines",es:"Líneas de pago"},fecha:{en:"Date",es:"Fecha"},observaciones:{en:"Remarks",es:"Observaciones"},costecancelacion:{en:"Cancelation costs",es:"Costes de cancelación"},tras:{en:"After",es:"Tras"},touroperador:{en:"Touroperator",es:"Touroperador"},rellenartitular:{en:"Please fill lead name",es:"Por favor, rellene datos del titular"},rellenar:{en:"Please fill",es:"Por favor, rellene"},titular:{en:"Lead name",es:"Nombre titular"},numerohabitacion:{en:"Room number",es:"Número Habitación"},nombre:{en:"Name",es:"Nombre"},apellido:{en:"Surname",es:"Apellidos"},peticionespecial:{en:"Special request",es:"peticiones especiales"},ocupante:{en:"Occupant",es:"Ocupante"},edad:{en:"Age",es:"Edad"},informarocupacion:{en:"Please fill Names for each occupation",es:"Por favor, rellene datos de los ocupantes"},informacionpago:{en:"Payment information",es:"Información de pago"},nombretitulartarjeta:{en:"Card holder name",es:"Nombre titular de la terjeta"},numerotarjeta:{en:"Card number",es:"Número de la terjeta"},cvc:{en:"CVC number",es:"Número CVC"},caducidadtarjeta:{en:"Expiration Date",es:"Fecha Caducidad"},email:{en:"Email",es:"Email"},valor:{en:"Value",es:"Valor"},adult:{en:"Adults",es:"Adultos"},ninos:{en:"Children",es:"Niños"},bebes:{en:"Infants",es:"Bebes"},vehiculos:{en:"Vehicles",es:"Vehiculos"},numerotelefono:{en:"Phone number",es:"Número de teléfono"},reservar:{en:"Book",es:"Reservar"},precios:{en:"Prices",es:"Precios"},lineaprecios:{en:"Price lines",es:"Desglose precios"},finicio:{en:"Start date",es:"Fecha inicio"},ffin:{en:"End date",es:"Fecha fin"},configuraexcursion:{en:"Configure your excursion",es:"Configura tu excursión"},idioma:{en:"Language",es:"Idioma"},variante:{en:"Variant",es:"Variante"},turno:{en:"Shift",es:"Turno"},novariante:{en:"No variant available",es:"Variante no disponible"},noturno:{en:"No shift available",es:"Turno no disponible"},disponible:{en:"Available",es:"Disponible"},nodisponible:{en:"Not Available",es:"No Disponible"},adelante:{en:"Go on",es:"Adelante"},campoobligatorio:{en:"(*) Required fields",es:"(*) Campos obligatorios"},corregirerrores:{en:"Please correct the following error(s):",es:"Por favor, corrija los errores:"},errorfechaentradavacia:{en:"Field Checkin required",es:"El campo Entrada es obligatorio"},errorfechasalidavacia:{en:"Field Checkout required",es:"El campo Salida es obligatorio"},errordestinovacia:{en:"Field Destination required",es:"El campo Destino es obligatorio"},errorocupacionavacia:{en:"Field Occupancy required",es:"El campo Ocupacion es obligatorio"},errorentradamenorhoy:{en:"Checkin date must be greater than today",es:"La fecha de entrada debe ser mayor a hoy"},errorsalidamenorentrada:{en:"Checkout date must be greater than Checkin",es:"La fecha de salida debe ser mayor a la fecha de entrada"},configuracircuito:{en:"Configure your circuit",es:"Configura tu circuito"}}}},AAF7:function(e,t){},CBJ6:function(e,t){},"Fh+n":function(e,t){},GF9y:function(e,t){},J49w:function(e,t){},KO6F:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},i,!1,function(e){a("VOLx")},null,null).exports,o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"lbutton"}},[null!==e.$root.userprofile?a("div",[a("span",{staticClass:"lbutton",on:{click:function(t){e.clicklogout()}}},[e._v("Logout")])]):a("div",[a("span",{staticClass:"lbutton",on:{click:function(t){e.clicklogin(!0)}}},[e._v("Login")])])])},staticRenderFns:[]};var l=a("VU/8")({name:"Lbutton",methods:{clicklogin:function(e){this.$parent.login(e)},clicklogout:function(){this.$parent.logout()}}},o,!1,function(e){a("Fh+n")},null,null).exports,r=a("Rf8U"),c=a.n(r),u=a("WrNK"),d=a("mtWM"),v=a.n(d),m=a("/ocq"),g=a("mvHQ"),p=a.n(g),h={name:"Login",data:function(){return{user:null,password:null,response:null,providers:null}},mounted:function(){var e=this,t=this.$data;v.a.post("http://localhost:4000/providers").then(function(e){return e.data}).then(function(a){for(var s in t.providers=a,t.providers)for(var i in e.$auth.options.providers)s===i&&(e.$auth.options.providers[i].clientId=t.providers[s].clientId,e.$auth.options.providers[i].clientSecret=t.providers[s].clientSecret,e.$auth.options.providers[i].redirectUri=t.providers[s].redirectUri)})},methods:{login:function(){var e=this,t=this.$data,a={email:t.user,password:t.password};this.$auth.isAuthenticated()&&this.$auth.logout(),this.$auth.login(a).then(function(a){200===a.status?(t.response=a,t.errorLogin=null,sessionStorage.setItem("userprofile",p()(a.data)),globaldata.userprofile=a.data,e.$parent.$data.userprofile=globaldata.userprofile,e.$emit("clicked",!0)):(globaldata.userprofile=null,e.$parent.$data.userprofile=globaldata.userprofile,t.errorLogin="error al logarse intentelo de nuevo")})},register:function(){this.$router.push({name:"welcome"})},cancel:function(){this.$auth.isAuthenticated()&&this.$auth.logout(),this.$emit("clicked",!0)},authenticate:function(e){var t=this.$data;this.$auth.isAuthenticated()&&this.$auth.logout(),this.response=null,this.$auth.authenticate(e).then(function(e){t.response=e,t.logedin=!0}).catch(function(e){console.log("Incorrecto "+e)})}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("a",{staticClass:"waves-effect red waves-light btn right",on:{click:e.cancel}},[e._v("X")]),e._v(" "),a("div",{staticClass:"col s12 m4 offset-m4"},[a("div",{attrs:{id:"classicLogin"}},[a("h4",{staticClass:"center"},[e._v("Iniciar sesión en QuoTravel")]),e._v(" "),a("div",{staticClass:"row"},[a("form",{staticClass:"col offset-s1 s10 "},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",e._b({staticClass:"validate",attrs:{id:"user",type:"text"}},"input",e.user,!1)),e._v(" "),a("label",{attrs:{for:"user"}},[e._v("User")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col s12"},[a("input",e._b({staticClass:"validate",attrs:{id:"password",type:"password"}},"input",e.password,!1)),e._v(" "),a("label",{attrs:{for:"password"}},[e._v("Password")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col s12 waves-effect waves-light btn",on:{click:e.login}},[e._v("Log in\n              ")])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col s12 waves-effect waves-light btn",on:{click:e.register}},[e._v("Sign in\n              ")])]),e._v(" "),e.providers?a("div",{attrs:{id:"oauth"}},[e._m(0),e._v(" "),e._l(e.providers,function(t){return a("div",{staticClass:"row"},[a("div",{class:"btn_social "+t.name,on:{click:function(a){e.authenticate(t.name)}}},[e._v("Login With "+e._s(t.name))])])})],2):e._e()])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row center"},[t("h4",[this._v(" Or log with ...")])])}]};var _=a("VU/8")(h,f,!1,function(e){a("AAF7")},null,null).exports,b={name:"Reserva",components:{Login:_},data:function(){return{openForm:null,userprofile:null}},mounted:function(){null!==globaldata.userprofile&&(this.$data.userprofile=globaldata.userprofile)},watch:{userprofile:function(){null===this.userprofile&&(alert("cambio de userprofile"),this.$router.push({name:"main",query:""}))}},methods:{onclicklogin:function(e){var t=this.$data;t.openForm=e,console.log("entra en login"+t.openForm)},logout:function(){var e=this.$data;sessionStorage.clear(),globaldata.userprofile=null,e.userprofile=null,this.cierraForm()},cierraForm:function(e){var t=this.$data;!0===e&&(t.openForm=null)}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app-logic"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.openForm,expression:"openForm"}]},[a("Login",{on:{clicked:e.cierraForm}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.openForm,expression:"!openForm"}]},[e.userprofile?a("div",[e._v("\n      hi "+e._s(e.userprofile.name)+"\n    ")]):e._e(),e._v(" "),a("router-view")],1)])},staticRenderFns:[]};var y=a("VU/8")(b,C,!1,function(e){a("5ucS")},"data-v-ae739e0c",null).exports,k=globaldata.baseurl,w={name:"Ok",data:function(){return{bookingId:null,baseurl:k}},mounted:function(){this.$data.bookingId=this.$route.query.bookingId},methods:{pago:function(e){this.$router.push({name:"pago"})}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container center"},[a("h1",[e._v("Thank you!")]),e._v(" "),a("i",{staticClass:"material-icons green large circle"},[e._v("done")]),e._v(" "),a("h4",[e._v("Your booking has been confirmed with ID: "+e._s(e.bookingId))]),e._v(" "),a("div",{staticClass:"input-field inline"},[a("a",{staticClass:"waves-effect waves-light btn",attrs:{src:e.baseurl}},[e._v("Añadir servicios")])]),e._v(" "),a("div",{staticClass:"input-field inline"},[a("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){e.pago()}}},[e._v("Realizar Pago")])])])},staticRenderFns:[]};var x=a("VU/8")(w,$,!1,function(e){a("CBJ6")},"data-v-eb236c20",null).exports,I={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container center"},[t("h1",[this._v("We are sorry. It did not work")]),this._v(" "),t("i",{staticClass:"material-icons red large circle"},[this._v("error")]),this._v(" "),t("h4",[this._v(this._s(this.error))])])},staticRenderFns:[]};var F=a("VU/8")({name:"Ko",data:function(){return{error:null}},mounted:function(){this.$data.error=this.$route.query.error}},I,!1,function(e){a("GF9y")},"data-v-2dd8c784",null).exports,A={name:"Config",methods:{set:function(e){console.log(e),globaldata.baseurl=e,this.$data.u=e}},data:function(){return{u:globaldata.baseurl}},mounted:function(){M.updateTextFields()},watch:{u:function(e){console.log("baseurl ha cambiado a "+e),localStorage.setItem("baseurl",e),globaldata.baseurl=e}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",[e._v("Config")]),e._v(" "),a("form",[a("div",{staticClass:"input-field inline",staticStyle:{width:"100%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.u,expression:"u"}],staticClass:"validate",attrs:{type:"text",id:"baseurl"},domProps:{value:e.u},on:{input:function(t){t.target.composing||(e.u=t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"baseurl","data-error":"wrong","data-success":"right"}},[e._v("Base URL")])]),e._v(" "),a("div",{staticClass:"input-field inline"},[a("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){e.set("http://test.easytravelapi.com/rest/yourauthtoken")}}},[e._v("Mock")])]),e._v(" "),a("div",{staticClass:"input-field inline"},[a("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){e.set("http://localhost:9998/yourauthtoken")}}},[e._v("Local")])]),e._v(" "),a("div",{staticClass:"input-field inline"},[a("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){e.set("http://admin.test.quoon.net/resources/ewogICJhZ2VudElkIiA6ICIzIiwKICAicGFzcyIgOiAidzM4a1dwIiwKICAibGFuIiA6ICJlbiIsCiAgImxvZ2luIiA6ICJERU1PIFhNTCBBR0VOVCIKfQ==")}}},[e._v("QuoOn test")])]),e._v(" "),a("div",{staticClass:"input-field inline"},[a("a",{staticClass:"waves-effect waves-light btn",on:{click:function(t){e.set("http://comprahotelbeds.quoon.net/v2ukv2f2kvgy3tu5j8yxdzpt:dprMMrfFsz")}}},[e._v("Traductor Hotelbeds")])])])])},staticRenderFns:[]};var q=a("VU/8")(A,P,!1,function(e){a("hTsF")},"data-v-03c9fe24",null).exports,E={name:"Welcome",components:{Login:_},data:function(){return{bookingId:null,openForm:null}},mounted:function(){this.$data.bookingId=this.$route.query.bookingId,console.log(globaldata.userprofile),console.log(p()(globaldata.userprofile))},methods:{onclicklogin:function(e){console.log("entra en onclick"),console.log(e),this.$data.openForm=e}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("Login",{on:{clicked:e.onclicklogin}}),e._v(" "),!0!==e.openForm?a("div",[a("h1",[e._v("Welcome XXXX!")]),e._v(" "),a("i",{staticClass:"material-icons green large circle"},[e._v("done")]),e._v(" "),a("h4",[e._v("Ready to start")])]):e._e()],1)},staticRenderFns:[]};var S=a("VU/8")(E,N,!1,function(e){a("nOqy")},"data-v-06ab80ae",null).exports,L={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n  pasarela de pago\n")])},staticRenderFns:[]};var R,D,T=a("VU/8")({name:"Pago"},L,!1,function(e){a("+B2u")},"data-v-319a5e76",null).exports,V={name:"Formulario",data:function(){return{destino:".",iddestino:null,entrada:"2018-06-01",salida:"2018-06-08",idioma:"es",portfolio:null,busqueda:null,coincidencias:{matches:[]}}},methods:{elegirdestino:function(e){D.open(),M.Tabs.init(document.querySelector("#tabsdestino"),{})},seleccionardestino:function(e){this.$data.destino=e.srcElement.getAttribute("data-name"),this.$data.iddestino=e.srcElement.getAttribute("data-key"),D.close()},buscardestino:function(e){var t=!1;if(t|=37===e.keyCode,t|=38===e.keyCode,t|=39===e.keyCode,!(t|=40===e.keyCode)){console.log(e.keyCode),console.log(this.$data.busqueda);var a=this.$data.coincidencias;v()({method:"get",url:globaldata.baseurl+"/commons/search",params:{language:"es",query:this.$data.busqueda}}).then(function(e){console.log(e.data.matches),a.matches=e.data.matches}).catch(function(e){console.log(e)})}},buscardestinox:function(e){var t=!1;t|=37===e.keyCode,t|=38===e.keyCode,t|=39===e.keyCode,(t|=40===e.keyCode)||(console.log(e.keyCode),console.log(this.$data.destino),v()({method:"get",url:globaldata.baseurl+"/commons/search",params:{language:"es",query:this.$data.destino}}).then(function(e){console.log(e.data.matches);var t={};for(var a in R=e.data.matches)t[R[a].name]=null;console.log(t),(void 0).updateData(t)}).catch(function(e){console.log(e)}))},buscar:function(e){e.preventDefault(),console.log(this.$data),this.$router.push({name:"circuito_dispo",query:{destino:this.$data.iddestino,entrada:this.$data.entrada,salida:this.$data.salida,idioma:this.$data.idioma}})}},mounted:function(){var e=this.$data;M.Modal.init(document.querySelector("#modal1"),{}),D=M.Modal.getInstance(document.querySelector("#modal1")),M.updateTextFields();var t=document.querySelectorAll("select");M.FormSelect.init(t,{});v()({method:"get",url:globaldata.baseurl+"/commons/portfolio"}).then(function(t){console.log(e),e.portfolio=t.data,e.destino=e.portfolio.countries[0].states[0].name.en,e.iddestino=e.portfolio.countries[0].states[0].resourceId,console.log("destino ok")}).catch(function(e){console.log(e)})}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("form",{attrs:{method:"get"},on:{submit:e.buscar}},[a("div",{staticClass:"input-field inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.destino,expression:"destino"}],staticClass:"autocomplete validate",attrs:{type:"text",id:"destino"},domProps:{value:e.destino},on:{keyup:e.elegirdestino,focus:e.elegirdestino,input:function(t){t.target.composing||(e.destino=t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"destino","data-error":"wrong","data-success":"right"}},[e._v("Destino")])]),e._v(" "),a("div",{staticClass:"input-field inline"},[a("a",{staticClass:"btn-floating btn-small waves-effect waves-light blue",on:{click:e.elegirdestino}},[a("i",{staticClass:"material-icons"},[e._v("edit")])])]),e._v(" "),a("div",{staticClass:"input-field inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.entrada,expression:"entrada"}],staticClass:"validate",attrs:{id:"entrada",type:"date"},domProps:{value:e.entrada},on:{input:function(t){t.target.composing||(e.entrada=t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"entrada","data-error":"wrong","data-success":"right"}},[e._v("Inicio vacaciones")])]),e._v(" "),a("div",{staticClass:"input-field inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.salida,expression:"salida"}],staticClass:"validate",attrs:{id:"salida",type:"date"},domProps:{value:e.salida},on:{input:function(t){t.target.composing||(e.salida=t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"salida","data-error":"wrong","data-success":"right"}},[e._v("Fin vacaciones")])]),e._v(" "),a("div",{staticClass:"input-field inline"},[a("a",{staticClass:"waves-effect waves-light btn",on:{click:e.buscar}},[e._v("Buscar")])])]),e._v(" "),a("div",{staticClass:"modal",attrs:{id:"modal1"}},[a("div",{staticClass:"modal-content"},[e._m(0),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"elegir"}},[e.portfolio?a("ul",{staticClass:"browser-default"},e._l(e.portfolio.countries,function(t){return a("li",[t.name?[a("a",{attrs:{"data-key":t.resourceId,"data-name":t.name.en},on:{click:e.seleccionardestino}},[e._v(e._s(t.name.en))]),e._v(" "),a("ul",{staticClass:"browser-default"},e._l(t.states,function(t){return a("li",[t.name?[a("a",{attrs:{"data-key":t.resourceId,"data-name":t.name.en},on:{click:e.seleccionardestino}},[e._v(e._s(t.name.en))]),e._v(" "),a("ul",{staticClass:"browser-default"},e._l(t.cities,function(t){return a("li",[t.name?[a("a",{attrs:{"data-key":t.resourceId,"data-name":t.name.en},on:{click:e.seleccionardestino}},[e._v(e._s(t.name.en))])]:[e._v("FALTA EL NOMBRE DE LA CIUDAD "+e._s(t))]],2)}))]:[e._v("FALTA EL NOMBRE DE LA PROVINCIA "+e._s(t))]],2)}))]:[e._v("FALTA EL NOMBRE DEL PAIS "+e._s(t))]],2)})):e._e()]),e._v(" "),a("div",{staticClass:"col s12",attrs:{id:"buscar"}},[a("div",[a("div",{staticClass:"input-field inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.busqueda,expression:"busqueda"}],staticClass:"validate",attrs:{id:"busqueda",type:"text"},domProps:{value:e.busqueda},on:{keyup:e.buscardestino,input:function(t){t.target.composing||(e.busqueda=t.target.value)}}}),e._v(" "),a("label",{attrs:{for:"busqueda","data-error":"wrong","data-success":"right"}},[e._v("Search text")])]),e._v(" "),e._l(e.coincidencias.matches,function(t){return a("div",[a("h5",[a("a",{attrs:{"data-key":t.resourceId,"data-name":t.name},on:{click:e.seleccionardestino}},[e._v(e._s(t.name))])]),e._v("\n\n            "+e._s(t.description)+"\n          ")])})],2)])]),e._v(" "),e._m(1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("ul",{staticClass:"tabs",attrs:{id:"tabsdestino"}},[t("li",{staticClass:"tab col s3"},[t("a",{staticClass:"active",attrs:{href:"#elegir"}},[this._v("Choose destination")])]),this._v(" "),t("li",{staticClass:"tab col s3"},[t("a",{staticClass:"active",attrs:{href:"#buscar"}},[this._v("Search destination")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-footer"},[t("a",{staticClass:"modal-close waves-effect waves-green btn-flat"},[this._v("Agree")])])}]};var U=a("VU/8")(V,O,!1,function(e){a("KO6F")},"data-v-176bdc24",null).exports,B={name:"CircuitoDispo",data:function(){return{dispo:null}},methods:{abrirdetalle:function(e){console.log(e.srcElement.getAttribute("data-key")),this.$router.push({name:"circuito_rates",query:{key:e.srcElement.getAttribute("data-key")}})}},mounted:function(){console.log(this.$route.query);var e=this.$data;v()({method:"get",url:globaldata.baseurl+"/circuit/available",params:{resorts:this.$route.query.destino,checkin:this.$route.query.entrada?this.$route.query.entrada.replace(/-/g,""):null,checkout:this.$route.query.salida?this.$route.query.salida.replace(/-/g,""):null,language:this.$route.query.idioma}}).then(function(t){console.log(t.data),e.dispo=t.data}).catch(function(e){console.log(e)})}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dispo?a("div",[a("ul",{staticClass:"collection with-header"},[a("li",{staticClass:"collection-header"},[a("h4",[e._v(e._s(e.dispo.msg))])]),e._v(" "),e._l(e.dispo.availableCircuits,function(t){return a("a",{staticStyle:{cursor:"pointer"},attrs:{"data-key":t.key},on:{click:e.abrirdetalle}},[a("li",{staticClass:"collection-item"},[a("div",[e._v(e._s(t.name)),a("a",{staticClass:"secondary-content"},[e._v(e._s(t.bestDeal.retailPrice.value)+" "+e._s(t.bestDeal.retailPrice.currencyIsoCode))])])])])})],2)]):e._e()},staticRenderFns:[]};var j=a("VU/8")(B,H,!1,function(e){a("5HSI")},"data-v-d5774df2",null).exports;null!=globaldata.language&&""!=globaldata.language&&globaldata.language;var J=a("8tpb"),K={name:"Rates",data:function(){return{idioma:"es",hotel:null,detalles:null,selectedfecha:-1,adultos:1,ninos:0,bebes:0,variante:null,variantes:[],titular:null,comentarios:null,idiomaguia:null,total:null,loader:null,language:globaldata.language,multilanguage:J.multilanguage,suplsel:null}},watch:{variante:function(e){this.valorar()},adultos:function(e){this.valorar()},ninos:function(e){this.valorar()},bebes:function(e){this.valorar()},hotel:function(e){this.valorar()},idiomaguia:function(e){this.valorar()}},methods:{valorar:function(){var e,t=this.$data;-1!==t.selectedfecha&&(t.variantes&&t.variante&&""!==t.variante&&(e=t.variante.id),this.formatcomplementos(),v()({method:"get",url:globaldata.baseurl+"/circuit/price/"+this.$route.query.keys,params:{language:t.language,adults:t.adultos,children:t.ninos,infants:t.bebes,datekey:t.detalles.availableDates[t.selectedfecha].date,variantkey:e,pickup:t.hotel,supplements:t.suplsel,idiomaguia:t.idiomaguia}}).then(function(e){console.log(e.data),t.total=e.data}).catch(function(e){console.log(e)}))},procesar:function(e){200===e.data.statusCode?this.$router.push({name:"ok",query:{bookingId:e.data.bookingId}}):this.$router.push({name:"ko",query:{msg:e.data.msg}})},book:function(e){this.$router.push({name:"circuito_detalle",query:{key:e.srcElement.getAttribute("data-key")}})},cambiofechas:function(){this.variantes=this.detalles.availableDates[this.selectedfecha].variants,this.variante="",setTimeout(function(){var e=document.querySelectorAll("select"),t=document.querySelectorAll("option");M.FormSelect.init(e,t)}),this.valorar()},formatcomplementos:function(){this.suplsel="";for(var e=0;e<this.detalles.supplements.length;e++)this.detalles.supplements[e].cantidad&&this.detalles.supplements[e].cantidad>0&&(""!==this.suplsel?(this.suplsel=this.suplsel.concat(this.detalles.supplements[e].id,";",this.detalles.supplements[e].cantidad,"~"),console.log(this.suplsel)):(this.suplsel=this.suplsel.concat(this.detalles.supplements[e].id,";",this.detalles.supplements[e].cantidad),console.log(this.suplsel)));""===this.suplsel&&(this.suplsel=null)}},mounted:function(){console.log(this.$route.query);var e=this.$data;v()({method:"get",url:globaldata.baseurl+"/circuit/rates/"+this.$route.query.keys,params:{}}).then(function(t){console.log("mas response data"+t.data),e.detalles=t.data,console.log(e.detalles),setTimeout(function(){var e=document.querySelectorAll("select");document.querySelectorAll("option"),M.FormSelect.init(e,{})})}).catch(function(e){console.log(e)})}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v(e._s(e.multilanguage.configuracircuito[e.language]))]),e._v(" "),e.detalles?a("div",[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col m6 s12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col m8 s12"},[a("label",{attrs:{for:"hotel","data-error":"wrong","data-success":"right"}},[e._v(e._s(e.multilanguage.hotel[e.language]))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.hotel,expression:"hotel"}],attrs:{id:"hotel"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.hotel=t.target.multiple?a:a[0]}}},e._l(e.detalles.pickups,function(t,s){return a("option",{domProps:{value:s}},[e._v(e._s(t))])}))]),e._v(" "),a("div",{staticClass:"col m4 s12"},[a("label",{attrs:{for:"idioma","data-error":"wrong","data-success":"right"}},[e._v(e._s(e.multilanguage.idioma[e.language]))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.idiomaguia,expression:"idiomaguia"}],attrs:{id:"idioma"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.idiomaguia=t.target.multiple?a:a[0]}}},e._l(e.detalles.languages,function(t,s){return a("option",{domProps:{value:s}},[e._v(e._s(t))])}))])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col m6 s12"},[a("label",{attrs:{for:"fecha"}},[e._v(e._s(e.multilanguage.fecha[e.language]))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedfecha,expression:"selectedfecha"}],attrs:{id:"fecha"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedfecha=t.target.multiple?a:a[0]},e.cambiofechas]}},e._l(e.detalles.availableDates,function(t,s){return a("option",{domProps:{value:s}},[e._v(e._s(t.date)+" "),t.price?[e._v(e._s(t.price.retailPrice.value)+" "+e._s(t.price.retailPrice.currencyIsoCode))]:e._e()],2)}))]),e._v(" "),-1!==e.selectedfecha&&e.detalles.availableDates[e.selectedfecha].variants.length>0?a("div",{staticClass:"col m6 s12"},[a("label",{attrs:{for:"variante"}},[e._v(e._s(e.multilanguage.variante[e.language]))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.variante,expression:"variante"}],attrs:{id:"variante"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.variante=t.target.multiple?a:a[0]}}},e._l(e.variantes,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t.name)+" "+e._s(t.price.retailPrice.value)+" "+e._s(t.price.retailPrice.currencyIsoCode))])}))]):e._e()]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col m2 s12"},[a("label",{attrs:{for:"adultos"}},[e._v(e._s(e.multilanguage.adult[e.language]))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.adultos,expression:"adultos"}],attrs:{type:"number",id:"adultos",min:"0",max:"99"},domProps:{value:e.adultos},on:{input:function(t){t.target.composing||(e.adultos=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col m2 s12"},[a("label",{attrs:{for:"ninos"}},[e._v(e._s(e.multilanguage.ninos[e.language]))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ninos,expression:"ninos"}],attrs:{type:"number",id:"ninos",min:"0",max:"99"},domProps:{value:e.ninos},on:{input:function(t){t.target.composing||(e.ninos=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col m2 s12"},[a("label",{attrs:{for:"bebes"}},[e._v(e._s(e.multilanguage.bebes[e.language]))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.bebes,expression:"bebes"}],attrs:{type:"number",id:"bebes",min:"0",max:"99"},domProps:{value:e.bebes},on:{input:function(t){t.target.composing||(e.bebes=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col m12 s12"},[a("table",[a("thead",[a("tr",[a("th",[e._v(e._s(e.multilanguage.suplementodispo[e.language]))]),e._v(" "),a("th",[e._v(e._s(e.multilanguage.coste[e.language]))]),e._v(" "),a("th",{attrs:{width:"60"}},[e._v(e._s(e.multilanguage.seleccionado[e.language]))])])]),e._v(" "),a("tbody",e._l(e.detalles.supplements,function(t){return a("tr",[a("td",[e._v(e._s(t.description))]),e._v(" "),a("td",[e._v(e._s(t.retailPrice.value)+" "+e._s(t.retailPrice.currencyIsoCode))]),e._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cantidad,expression:"c.cantidad"}],attrs:{type:"number",min:"0",max:"99"},domProps:{value:t.cantidad},on:{input:function(a){a.target.composing||e.$set(t,"cantidad",a.target.value)}}})])])}))])])])]),e._v(" "),a("div",{staticClass:"col offset-m2 m4 s12"},[e.total?a("div",{staticClass:"row"},[a("div",{staticClass:"col m12 s12"},[a("table",[a("thead",[a("tr",[a("th",[e._v(e._s(e.multilanguage.descripcion[e.language]))]),e._v(" "),a("th",{staticClass:"right"},[e._v(e._s(e.multilanguage.valor[e.language]))])])]),e._v(" "),a("tbody",[e.total.total.retailPrice?a("tr",[a("td",[e._v(e._s(e.multilanguage.total[e.language]))]),e._v(" "),a("td",{staticClass:"right"},[e._v(" "+e._s(e.total.total.retailPrice.value)+" "+e._s(e.total.total.retailPrice.currencyIsoCode))])]):e._e()])]),e._v(" "),a("hr")]),e._v(" "),e.total.available?a("div",{staticClass:"col s12 center"},[a("br"),a("br"),e._v(" "),a("i",{staticClass:"material-icons green small circle"},[e._v("done")]),a("br"),e._v(e._s(e.multilanguage.disponible[e.language])+"\n              "),a("br"),a("br"),a("br"),e._v(" "),a("a",{staticClass:"waves-effect waves-light btn",on:{click:e.book}},[e._v(e._s(e.multilanguage.adelante[e.language]))])]):a("div",{staticClass:"col s12 center"},[a("i",{staticClass:"material-icons red small circle"},[e._v("error")]),a("br"),e._v(e._s(e.multilanguage.nodisponible[e.language])+"\n            ")])]):e._e()])])])]):e._e()])},staticRenderFns:[]};var z=a("VU/8")(K,W,!1,function(e){a("a4Bg")},"data-v-56fac428",null).exports;null!=globaldata.language&&""!=globaldata.language&&globaldata.language;var G=a("8tpb"),X={name:"Detalle",data:function(){return{detalles:null,fecha:{variants:[]},turno:null,variante:null,titular:null,comentarios:null,habitacion:null,telefono:null,email:null,touroperador:null,loader:null,language:globaldata.language,multilanguage:G.multilanguage}},watch:{fecha:function(e){setTimeout(function(){console.log("entra por el watch");var e=document.querySelectorAll("select");M.FormSelect.init(e,{})})}},methods:{procesar:function(e){200===e.data.statusCode?this.$router.push({name:"ok",query:{bookingId:e.data.bookingId}}):this.$router.push({name:"ko",query:{msg:e.data.msg}})},clicklogin:function(e){this.$parent.onclicklogin(e)},book:function(e){var t=this,a=this.$data;a.loader=!0,v()({method:"put",url:globaldata.baseurl+"/circuit/booking",data:{key:this.$route.params.key,leadName:this.$data.titular,commentsToProvider:this.$data.comentarios}}).then(function(e){console.log(e.data),a.loader=!1,t.procesar(e)}).catch(function(e){a.loader=!1,console.log(e)})}},mounted:function(){console.log(this.$route.query);var e=this.$data;e.loader=!0,v()({method:"get",url:globaldata.baseurl+"/circuit/pricedetails/"+this.$route.query.keys,params:{}}).then(function(t){e.loader=null,console.log(t.data.total),e.detalles=t.data,setTimeout(function(){var e=document.querySelectorAll(".collapsible"),t=(M.Collapsible.init(e,{accordion:!1}),document.querySelectorAll("select"));M.FormSelect.init(t,{})})}).catch(function(t){e.loader=null,console.log(t)})}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h4",[e._v(e._s(e.multilanguage.checkandfill[e.language]))]),e._v(" "),e.loader?a("div",{staticClass:"progress"},[a("div",{staticClass:"indeterminate"})]):e._e(),e._v(" "),e.detalles?a("div",[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col m4 s12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col m12 s12"},[a("ul",{staticClass:"collapsible"},[a("li",{staticClass:"active"},[a("div",{staticClass:"collapsible-header"},[a("h5",[e._v(e._s(e.multilanguage.detalles[e.language]))])]),e._v(" "),a("div",{staticClass:"collapsible-body"},[a("div",{staticClass:"row"},[a("div",{attrs:{id:"remarks"}},[a("h5",[e._v(e._s(e.multilanguage.observaciones[e.language]))]),e._v(" "),e._l(e.detalles.remarks,function(t){return a("div",[a("p",[e._v(e._s(t.text))])])})],2)]),e._v(" "),a("div",{staticClass:"row"},[a("div",{attrs:{id:"cancellationcosts"}},[a("div",{attrs:{id:"cancellationcost"}},[a("h5",[e._v(e._s(e.multilanguage.costecancelacion[e.language]))]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v(e._s(e.multilanguage.tras[e.language]))]),e._v(" "),a("th",[e._v(e._s(e.multilanguage.coste[e.language]))])])]),e._v(" "),a("tbody",e._l(e.detalles.cancellationCosts,function(t){return a("tr",[a("td",[e._v(e._s(t.gmttime))]),e._v(" "),a("td",[e._v(e._s(t.net.value)+" "+e._s(t.net.currencyIsoCode))])])}))])])])])])])])])])]),e._v(" "),a("div",{staticClass:"col m4 s12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col s12"},[a("ul",{staticClass:"collapsible"},[a("li",{staticClass:"active"},[a("div",{staticClass:"collapsible-header"},[a("h5",[e._v(e._s(e.multilanguage.rellenar[e.language]))])]),e._v(" "),a("div",{staticClass:"collapsible-body"},[a("div",[a("label",{attrs:{for:"to"}},[e._v(e._s(e.multilanguage.touroperador[e.language]))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.touroperador,expression:"touroperador"}],attrs:{type:"text",id:"to",placeholder:"Enter your name"},domProps:{value:e.touroperador},on:{input:function(t){t.target.composing||(e.touroperador=t.target.value)}}})]),e._v(" "),a("div",[a("label",{attrs:{for:"name"}},[e._v(e._s(e.multilanguage.titular[e.language]))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.titular,expression:"titular"}],attrs:{type:"text",id:"name",placeholder:"Enter your name"},domProps:{value:e.titular},on:{input:function(t){t.target.composing||(e.titular=t.target.value)}}})]),e._v(" "),a("div",[a("label",{attrs:{for:"habitacion"}},[e._v(e._s(e.multilanguage.numerohabitacion[e.language]))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.habitacion,expression:"habitacion"}],attrs:{type:"text",id:"habitacion",placeholder:"Enter your room number"},domProps:{value:e.habitacion},on:{input:function(t){t.target.composing||(e.habitacion=t.target.value)}}})]),e._v(" "),a("div",[a("label",{attrs:{for:"tel"}},[e._v(e._s(e.multilanguage.numerotelefono[e.language]))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.telefono,expression:"telefono"}],attrs:{type:"text",id:"tel",placeholder:"Enter your mobile telephone number"},domProps:{value:e.telefono},on:{input:function(t){t.target.composing||(e.telefono=t.target.value)}}})]),e._v(" "),a("div",[a("label",{attrs:{for:"email"}},[e._v(e._s(e.multilanguage.email[e.language]))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",id:"email",placeholder:"Enter your email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("div",[a("label",{attrs:{for:"comentarios"}},[e._v(e._s(e.multilanguage.peticionespecial[e.language]))]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comentarios,expression:"comentarios"}],attrs:{id:"comentarios",placeholder:"If you have any"},domProps:{value:e.comentarios},on:{input:function(t){t.target.composing||(e.comentarios=t.target.value)}}})])])])])])])]),e._v(" "),a("div",{staticClass:"col m4 s12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col m12 s12"},[a("ul",{staticClass:"collapsible"},[a("li",{staticClass:"active"},[a("div",{staticClass:"collapsible-header"},[a("h5",[e._v(e._s(e.multilanguage.precios[e.language]))])]),e._v(" "),a("div",{staticClass:"collapsible-body"},[a("div",{staticClass:"row"},[a("div",{attrs:{id:"totales"}},[a("h5",[e._v(e._s(e.multilanguage.totales[e.language])+": "+e._s(e.detalles.total.retailPrice.value)+" "+e._s(e.detalles.total.retailPrice.currencyIsoCode))])]),e._v(" "),a("div",{staticClass:"divider"}),e._v(" "),e._e(),e._v(" "),a("div",{attrs:{id:"desglose"}},[a("h5",[e._v(e._s(e.multilanguage.lineaprecios[e.language]))]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v(e._s(e.multilanguage.descripcion[e.language]))]),e._v(" "),a("th",[e._v(e._s(e.multilanguage.coste[e.language]))]),e._v(" "),a("th",[e._v(e._s(e.multilanguage.tipo[e.language]))])])]),e._v(" "),a("tbody",e._l(e.detalles.priceLines,function(t){return a("tr",[a("td",[e._v(e._s(t.description))]),a("td",[e._v(" "+e._s(t.retailPrice.value)+" "+e._s(t.retailPrice.currencyIsoCode))]),a("td",[e._v(e._s(t.type))])])}))])]),e._v(" "),a("div",{attrs:{id:"lineapagos"}},[a("h5",[e._v(e._s(e.multilanguage.lineapago[e.language]))]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v(e._s(e.multilanguage.fecha[e.language]))]),e._v(" "),a("th",[e._v(e._s(e.multilanguage.coste[e.language]))]),e._v(" "),a("th",[e._v(e._s(e.multilanguage.tipo[e.language]))])])]),e._v(" "),a("tbody",e._l(e.detalles.paymentLines,function(t){return a("tr",[a("td",[e._v(e._s(t.date))]),a("td",[e._v(" "+e._s(t.amount.value)+" "+e._s(t.amount.currencyIsoCode))]),a("td",[e._v(e._s(t.paymentMethod))])])}))])]),e._v(" "),a("div",{staticClass:"row center"},[e.$parent.$data.userprofile?a("div",[a("br"),e._v(" "),a("br"),e._v(" "),a("a",{staticClass:"waves-effect waves-light btn",on:{click:e.book}},[e._v(e._s(e.multilanguage.reservar[e.language]))])]):a("div",[a("div",{staticClass:"row"},[a("br"),e._v(" "),a("br"),e._v(" "),a("a",{staticClass:" waves-effect waves-light btn",on:{click:function(t){e.clicklogin(!0)}}},[e._v("Login")]),e._v(" "),a("br"),e._v(" "),e._m(0),e._v(" "),a("br")])])])])])])])])])])])])]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h6",[t("span",{staticClass:"center"},[this._v("You must be logged to confirm !!")])])}]};var Y=a("VU/8")(X,Q,!1,function(e){a("J49w")},"data-v-728a83ca",null).exports;s.a.use(m.a),s.a.use(c.a,v.a);s.a.use(u.a,{tokenName:"access_token",baseUrl:"http://localhost:4000",storageType:"localStorage"});var Z=new m.a({routes:[{path:"/",name:"reserva",component:y,children:[{path:"",name:"main",component:U},{path:"dispo",name:"circuito_dispo",component:j},{path:"rates",name:"circuito_rates",component:z},{path:"detalle",name:"circuito_detalle",component:Y},{path:"ok",name:"ok",component:x},{path:"ko",name:"ko",component:F},{path:"config",name:"config",component:q},{path:"login",name:"login",component:_},{path:"welcome",name:"welcome",component:S},{path:"pago",name:"pago",component:T}]}]});s.a.config.productionTip=!1;var ee=new s.a({el:"#circuito",router:Z,components:{App:n},template:"<App/>"});new s.a({el:"#lbutton",data:ee.$children[0].$children[0].$data,components:{Lbutton:l},template:"<Lbutton/>",methods:{login:function(e){ee.$children[0].$children[0].onclicklogin(e)},logout:function(){ee.$children[0].$children[0].logout()}}})},VOLx:function(e,t){},a4Bg:function(e,t){},hTsF:function(e,t){},nOqy:function(e,t){}},["NHnr"]);
//# sourceMappingURL=circuito.app.js.map